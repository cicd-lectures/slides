[{invert}]
= La Gestion des D√©pendances

üá∫üá∏ Dependency Management

== !

Dans ce chapitre on ne parle que de d√©pendances du code

== Pourquoi r√©utiliser du code?

* üß± L'informatique moderne est un assemblage de briques logicielles
* ‚öôÔ∏è ... chacune des briques √©tant infiniment complexe
** Ex: TLS, PostgresSQL, Linux, Firefox...
* ü§î Il est difficilement envisageable de d√©marrer un projet sans r√©utiliser des briques logicielles.
* üßò Cela permet de concentrer son effort de d√©velopement sur ce qui apporte vraiment de la valeur.
** ‚û°Ô∏è Dans notre cas, notre m√©tier est la gestion de v√©hicules, pas l'impl√©mentation d'une pile r√©seau et d'un serveur HTTP.

== Mais cela pose une quantit√© de probl√®mes!

* Comment r√©cup√©rer tout le code dont on √† besoin?
* Comment le maintenir √† jour?
* Comment s'assurer qu'il n'a pas √©t√© modifi√©?
* Comment garantir la reproductibilit√© de nos builds?

== !

image::dependency-graph.png[caption="Dependency Graph",width=1024]

Mais le pire, c'est que c'est un probl√®me r√©cursif! Nos d√©pendances ont aussi des d√©pendances!

== !

image::npm-dependency-graph.webp[caption="Dependency Graph",width=1024]

== !

image::https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExeHRxYmd1bGtjcTNyZmh1dXoxaWZsd3g5NWdiem40OW96YzFlbm12YyZlcD12MV9naWZzX3NlYXJjaCZjdD1n/HUkOv6BNWc1HO/giphy.gif[caption="Panic",width=1024]

== Un peu de terminologie

* Une *d√©pendance* est une librairie de code externe qui fournit une fonctionnalit√©.
* On distingue deux types de d√©pendances:
** Une *d√©pendances directe*: r√©f√©renc√©e directement par notre application
** Une *d√©pendances transitive* (ou indirecte): r√©f√©renc√©e par une des librairies dont l'application d√©pends

== Comment r√©soudre le probl√®me?

* On introduit un outil de gestion de d√©pendances
** Permets au d√©veloppeur de d√©finir une liste de d√©pendences en fixant ou en pla√ßant une contrainte de version (ex <= 4.3.0)
** Construit un arbre de d√©pendences de fa√ßon et le r√©soud a obtenir une liste de d√©pendances √† t√©lecharger de fa√ßon d√©terministe
** T√©lecharge les d√©pendances sur la machine a distance et les mets √† disposition de l'application.

== Comment cela fonctionne avec go?

image:gopher-tired.png[caption="Gopher Tired",width=256]

link:https://www.deviantart.com/quasilyte/art/Tired-gopher-783302842[source]

== Hello go modules

* Rappel:
** Tout symbole go est d√©fini dans un package
** Un package est identifi√© par une URL (ex: `github.com/prometheus/client_golang`)
